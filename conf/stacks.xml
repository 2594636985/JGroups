
<!--
  Sample file that defines a number of stacks, used by multiplexer JGroups channel
  Author: Bela Ban
  Version: $Id: stacks.xml,v 1.2 2006/03/16 15:29:02 belaban Exp $
-->
<protocol_stacks>
    <stack name="fc-fast-minimalthreads" description="Flow control, no up or down threads">
        <config>
            <UDP
                    mcast_port="45566"
                    mcast_addr="228.10.10.10"
                    tos="16"
                    ucast_recv_buf_size="20000000"
                    ucast_send_buf_size="640000"
                    mcast_recv_buf_size="25000000"
                    mcast_send_buf_size="640000"
                    loopback="false"
                    discard_incompatible_packets="true"
                    max_bundle_size="64000"
                    max_bundle_timeout="30"
                    use_incoming_packet_handler="true"
                    use_outgoing_packet_handler="false"
                    ip_ttl="2"
                    down_thread="false" up_thread="false"
                    enable_bundling="true"/>
            <PING timeout="2000"
                  down_thread="false" up_thread="false" num_initial_members="3"/>
            <MERGE2 max_interval="100000"
            down_thread="false" up_thread="false" min_interval="20000"/>
            <FD_SOCK down_thread="false" up_thread="false"/>
            <VERIFY_SUSPECT timeout="1500" down_thread="false"/>
            <pbcast.NAKACK max_xmit_size="60000"
                           use_mcast_xmit="false" gc_lag="0"
                           retransmit_timeout="100,200,300,600,1200,2400,4800"
                           down_thread="false" up_thread="false"
                           discard_delivered_msgs="true"/>
            <UNICAST timeout="300,600,1200,2400,3600"
                     down_thread="false" up_thread="false"/>
            <pbcast.STABLE stability_delay="1000" desired_avg_gossip="50000"
                           down_thread="false" up_thread="false"
                           max_bytes="400000"/>
            <VIEW_SYNC avg_send_interval="60000" down_thread="false" up_thread="false" />
            <pbcast.GMS print_local_addr="true" join_timeout="3000"
                        down_thread="false" up_thread="false"
                        join_retry_timeout="2000" shun="true"/>
            <FC max_credits="2000000" down_thread="false" up_thread="false"
                min_threshold="0.10"/>
            <FRAG2 frag_size="60000" down_thread="false" up_thread="true"/>
            <pbcast.STATE_TRANSFER down_thread="false" up_thread="false"/>
        </config>
    </stack>

    <stack name="sequencer" description="Totally ordered multicast using a sequencer">
        <config>
            <UDP bind_addr="192.168.5.1"
                 mcast_port="45566"
                 mcast_addr="228.12.12.12"
                 tos="16"
                 ucast_recv_buf_size="20000000"
                 ucast_send_buf_size="640000"
                 mcast_recv_buf_size="25000000"
                 mcast_send_buf_size="640000"
                 loopback="false"
                 discard_incompatible_packets="true"
                 max_bundle_size="64000"
                 max_bundle_timeout="30"
                 use_incoming_packet_handler="true"
                 use_outgoing_packet_handler="false"
                 ip_ttl="2"
                 down_thread="false" up_thread="false"
                 enable_bundling="true"/>
            <PING timeout="2000"
                  down_thread="false" up_thread="false" num_initial_members="3"/>
            <MERGE2 max_interval="10000"
                    down_thread="false" up_thread="false" min_interval="5000"/>
            <FD_SOCK down_thread="false" up_thread="false"/>
            <VERIFY_SUSPECT timeout="1500" down_thread="false"/>
            <pbcast.NAKACK max_xmit_size="60000"
                           use_mcast_xmit="false" gc_lag="0"
                           retransmit_timeout="100,200,300,600,1200,2400,4800"
                           down_thread="false" up_thread="false"
                           discard_delivered_msgs="true"/>
            <UNICAST timeout="300,600,1200,2400,3600"
                     down_thread="false" up_thread="false"/>
            <pbcast.STABLE stability_delay="1000" desired_avg_gossip="50000"
                           down_thread="false" up_thread="false"
                           max_bytes="400000"/>
            <VIEW_SYNC avg_send_interval="60000" down_thread="false" up_thread="false" />
            <pbcast.GMS print_local_addr="true" join_timeout="3000"
                        down_thread="false" up_thread="false"
                        join_retry_timeout="2000" shun="true" handle_concurrent_startup="true" />
            <SEQUENCER down_thread="false" up_thread="false" />
            <FC max_credits="2000000" down_thread="false" up_thread="false"
                min_threshold="0.10"/>
            <FRAG2 frag_size="60000" down_thread="false" up_thread="true"/>
            <pbcast.STATE_TRANSFER down_thread="false" up_thread="false"/>

        </config>
    </stack>


    <stack name="tcp" description="Using TCP as transport">
        <config>
            <TCP start_port="7800" loopback="true" send_buf_size="100000" recv_buf_size="200000"/>
            <TCPPING timeout="3000" initial_hosts="localhost[7800]" port_range="3" num_initial_members="3"/>
            <FD timeout="2000" max_tries="4"/>
            <VERIFY_SUSPECT timeout="1500" down_thread="false" up_thread="false"/>
            <pbcast.NAKACK gc_lag="100" retransmit_timeout="600,1200,2400,4800"/>
            <pbcast.STABLE stability_delay="1000" desired_avg_gossip="20000" down_thread="false" max_bytes="0" up_thread="false"/>
            <VIEW_SYNC avg_send_interval="60000" down_thread="false" up_thread="false" />
            <pbcast.GMS print_local_addr="true" join_timeout="5000" join_retry_timeout="2000" shun="true"/>
        </config>
    </stack>

    <stack name="discovery" description="Simple UDP-only stack for discovery">
        <config>
            <UDP mcast_port="7609"
                 use_incoming_packet_handler="false"
                 mcast_addr="228.15.15.15"
                 use_outgoing_packet_handler="false"
                 ip_ttl="32"/>
            <!-- UNICAST timeout="1200"/-->
        </config>
    </stack>

</protocol_stacks>


